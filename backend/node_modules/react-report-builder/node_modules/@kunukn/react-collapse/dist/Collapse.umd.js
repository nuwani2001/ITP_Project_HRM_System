!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e=e||self).Collapse=t(e.React)}(this,(function(e){"use strict";var t="default"in e?e.default:e;function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))}return function(n){var i=n.children,u=n.transition,s=n.style,f=n.render,p=n.elementType,y=void 0===p?"div":p,d=n.isOpen,b=n.collapseHeight,h=void 0===b?"0px":b,g=n.onInit,v=n.onChange,O=n.className,m=void 0===O?"collapse-css-transition":O,j=n.addState,w=n.noAnim,x=n.overflowOnExpanded,P=c(n,["children","transition","style","render","elementType","isOpen","collapseHeight","onInit","onChange","className","addState","noAnim","overflowOnExpanded"]),S=function(){return"0px"===h?"hidden":""},E=l(e.useReducer((function(e){return e+1}),0),2),D=(E[0],E[1]),A=e.useRef(),T=l(e.useState(0),2),k=T[0],C=T[1],I=e.useRef({collapse:d?"expanded":"collapsed",style:{height:d?"":h,visibility:d?"":S()}}).current;e.useEffect((function(){k&&N(v)}),[k]);var N=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&(e.name,e(o({state:I.collapse,style:I.style},t)))};function R(){A.current&&(I.collapse="collapsed",I.style={height:h,visibility:S()},D(),setTimeout((function(){return C(Date.now)}),0))}function q(){A.current&&(I.collapse="expanded",I.style={height:"",visibility:""},D(),setTimeout((function(){return C(Date.now)}),0))}function H(){return"".concat(A.current.scrollHeight,"px")}var F="expanded"===I.collapse||"expanding"===I.collapse;!F&&d&&function(){if(A.current){if(w)return q();I.collapse="expanding",a((function(){A.current&&"expanding"===I.collapse&&(I.style={height:H(),visibility:""},C(Date.now))}))}}(),F&&!d&&function(){if(A.current){if(w)return R();I.collapse="collapsing",I.style={height:H(),visibility:""},D(),a((function(){A.current&&"collapsing"===I.collapse&&(I.style={height:h,visibility:""},C(Date.now))}))}}();var z=o({overflow:"expanded"===I.collapse&&x?"":"hidden",transition:u},s,{},I.style),B=y,G=e.useCallback((function(e){e&&(A.current=e,N(g,{node:e}))}),[y]),J=j?"".concat(m," --c-").concat(I.collapse):m;return t.createElement(B,r({ref:G,style:z,onTransitionEnd:function(e){var t=e.target,n=e.propertyName;if(t===A.current&&"height"===n){var r=t.style.height;switch(I.collapse,I.collapse){case"expanding":""===r||r===h||q();break;case"collapsing":""===r||r!==h||R()}}},className:J},P),"function"==typeof i?i(I.collapse):"function"==typeof f?f(I.collapse):i)}}));
//# sourceMappingURL=Collapse.umd.js.map
